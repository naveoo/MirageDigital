<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles/style.css">
    <link rel="stylesheet" href="/styles/responsive.css">
    <title>Mirage Digital</title>
    <style>
        @keyframes rotate-cw {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        
        @keyframes rotate-ccw {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(-360deg);
            }
        }
        
        #theme-image {
            transition: none;
        }
        
        .rotate-animation-cw {
            animation: rotate-cw 0.5s ease forwards;
        }
        
        .rotate-animation-ccw {
            animation: rotate-ccw 0.5s ease forwards;
        }
    </style>
</head>
<body>
    <div id="content">
        <section id="title">
            <h1>MIRAGE DIGITAL</h1>
            <a href="#home">
                <img src="assets/icons/down.png" alt="En Bas">
            </a>
        </section>
        <div id="navbar"></div>
        <section>
            <h1 id="home">ACCEUIL</h1>
            <p>
                <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
            </p>
        </section>
    </div>
    <footer></footer>
    <script>
        let isClockwise = true;
        let isDarkMode = false;

        const backgroundLightMode = "#DEBAC0";
        const backgroundDarkMode = "#2b2d42";
        const fontLightMode = "#D0CDC5";
        const fontDarkMode = "#2F323A";
        const navbarLightMode = "#77567A";
        const navbarDarkMode = "#88A985"

        fetch("/pages/components/header.html")
            .then(response => response.text())
            .then(data => {
                document.getElementById("navbar").innerHTML = data;
                const themeButton = document.getElementById("change-theme");
                const themeImage = document.getElementById("theme-image");
                
                themeButton.addEventListener("click", function() {
                    if (themeImage.src.includes("moon.png")) {
                        themeImage.src = "/assets/icons/sun.png";
                        document.documentElement.style.setProperty('--background-color', backgroundDarkMode);
                        document.documentElement.style.setProperty('--main-font-color', fontDarkMode);
                        document.documentElement.style.setProperty('--secondary-font-color', fontLightMode);
                        document.documentElement.style.setProperty('--navbar-color', navbarDarkMode);
                        isDarkMode = true;
                    } else {
                        themeImage.src = "/assets/icons/moon.png";
                        document.documentElement.style.setProperty('--background-color', backgroundLightMode);
                        document.documentElement.style.setProperty('--main-font-color', fontLightMode);
                        document.documentElement.style.setProperty('--secondary-font-color', fontDarkMode);
                        document.documentElement.style.setProperty('--navbar-color', navbarLightMode);
                        isDarkMode = false;
                    }
                    
                    themeImage.classList.remove("rotate-animation-cw");
                    themeImage.classList.remove("rotate-animation-ccw");
                    
                    void themeImage.offsetWidth;
                    
                    if (isClockwise) {
                        themeImage.classList.add("rotate-animation-cw");
                    } else {
                        themeImage.classList.add("rotate-animation-ccw");
                    }
                    
                    isClockwise = !isClockwise;
                });
            });

        fetch("/pages/components/footer.html")
            .then(response => response.text())
            .then(data => {
                document.getElementsByTagName("footer")[0].innerHTML = data;
            });
    </script>
</body>
</html>